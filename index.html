<!DOCTYPE html>
<html>
  <head>
    <title>Interactive map with Leaflet</title>
    <link rel="icon" href="data:;base64,iVBORwOKGO=" />
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div id="my-map"></div>
    
    <!-- Control Panel for Earthquake Visualization -->
    <div class="control-panel">
      <div class="control-group">
        <label for="color-by">Color by:</label>
        <select id="color-by">
          <option value="mag" selected>Color by Magnitude</option>
          <option value="year">Color by Year</option>
          <option value="depth">Color by Depth</option>
        </select>
      </div>
      
      <div class="control-group">
        <label>
          <input type="checkbox" id="size-by-mag"> Size by Magnitude
        </label>
      </div>
      
      <!-- New Distribution View Dropdown -->
      <div class="control-group">
        <label for="dist-select">Distribution View:</label>
        <select id="dist-select">
        <option value="" selected>-- Select --</option>
          <option value="mag" >Magnitude</option>
          <option value="depth">Depth</option>
          <!-- <option value="duration">Duration (Bonus)</option> -->
        </select>
      </div>
      
      <!-- The year selector will be added dynamically -->
    </div>

    <div id="record-count" style="text-align: center; margin-top: 20px; font-size: 1.2em; padding: 10px;"></div>

      <!-- NEW: Animation Controls -->
      <div class="control-group">
        <label for="anim-speed">Animation Speed (ms):</label>
        <input type="number" id="anim-speed" min="100" max="5000" step="100" value="1000">
      </div>
      <div class="control-group">
        <button id="animate-btn">Start Animation</button>
        <button id="stop-btn">Stop Animation</button>
      </div>
    </div>
    
    <!-- Timeline Container for Earthquake Occurrences Over Time -->
     <div style="margin: 20px;">
        <h3 style="text-align: center; margin-bottom: 10px;">
            Weekly Earthquake Frequency Distribution
          </h3>
     </div>
    <div id="timeline" style="margin: 20px;"></div>
    
    <!-- Distribution Container for Level 3 Visualizations -->
    <div id="distribution" style="margin: 20px;"></div>
    
    <script src="js/d3.v6.min.js"></script>
    <script src="js/leaflet.js"></script>
    <!-- <script src="js/leaflet-heat.js"></script> -->
    <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
    <script src="js/leafletMap.js"></script>
    <script src="js/main.js"></script>
    
    <!-- Tooltip for map and timeline/distribution views -->
    <div id="tooltip" style="position: absolute; pointer-events: none; opacity: 0; background: white; border: 1px solid #ccc; padding: 5px; border-radius: 3px;"></div>
  </body>
</html>
